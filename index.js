// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("path")):"function"==typeof define&&define.amd?define(["path"],n):(r="undefined"!=typeof globalThis?globalThis:r||self).ns=n(r.require$$0)}(this,(function(r){"use strict";var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=Object.defineProperty;function t(r){return"number"==typeof r}function o(r){var n,e="";for(n=0;n<r;n++)e+="0";return e}function i(r,n,e){var t=!1,i=n-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=e?r+o(i):o(i)+r,t&&(r="-"+r)),r}var a=String.prototype.toLowerCase,u=String.prototype.toUpperCase;function c(r){var n,e,o;switch(r.specifier){case"b":n=2;break;case"o":n=8;break;case"x":case"X":n=16;break;default:n=10}if(e=r.arg,o=parseInt(e,10),!isFinite(o)){if(!t(e))throw new Error("invalid integer. Value: "+e);o=0}return o<0&&("u"===r.specifier||10!==n)&&(o=4294967295+o+1),o<0?(e=(-o).toString(n),r.precision&&(e=i(e,r.precision,r.padRight)),e="-"+e):(e=o.toString(n),o||r.precision?r.precision&&(e=i(e,r.precision,r.padRight)):e="",r.sign&&(e=r.sign+e)),16===n&&(r.alternate&&(e="0x"+e),e=r.specifier===u.call(r.specifier)?u.call(e):a.call(e)),8===n&&r.alternate&&"0"!==e.charAt(0)&&(e="0"+e),e}var f=Math.abs,s=String.prototype.toLowerCase,l=String.prototype.toUpperCase,p=String.prototype.replace,d=/e\+(\d)$/,g=/e-(\d)$/,y=/^(\d+)$/,v=/^(\d+)e/,h=/\.0$/,m=/\.0*e/,b=/(\..*[^0])0*e/;function w(r){var n,e,o=parseFloat(r.arg);if(!isFinite(o)){if(!t(r.arg))throw new Error("invalid floating-point number. Value: "+e);o=r.arg}switch(r.specifier){case"e":case"E":e=o.toExponential(r.precision);break;case"f":case"F":e=o.toFixed(r.precision);break;case"g":case"G":f(o)<1e-4?((n=r.precision)>0&&(n-=1),e=o.toExponential(n)):e=o.toPrecision(r.precision),r.alternate||(e=p.call(e,b,"$1e"),e=p.call(e,m,"e"),e=p.call(e,h,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return e=p.call(e,d,"e+0$1"),e=p.call(e,g,"e-0$1"),r.alternate&&(e=p.call(e,y,"$1."),e=p.call(e,v,"$1.e")),o>=0&&r.sign&&(e=r.sign+e),e=r.specifier===l.call(r.specifier)?l.call(e):s.call(e)}function j(r){var n,e="";for(n=0;n<r;n++)e+=" ";return e}var _=String.fromCharCode,E=Array.isArray;function S(r){return r!=r}function x(r){var n={};return n.specifier=r.specifier,n.precision=void 0===r.precision?1:r.precision,n.width=r.width,n.flags=r.flags||"",n.mapping=r.mapping,n}function A(r){var n,e,t,o,a,u,f,s,l,p,d,g,y;if(!E(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(u="",f=1,s=0;s<r.length;s++)if(t=r[s],"string"==typeof t)u+=t;else{if(n=void 0!==t.precision,!(t=x(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+t+"`.");for(t.mapping&&(f=t.mapping),e=t.flags,l=0;l<e.length;l++)switch(o=e.charAt(l)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=e.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===t.width){if(t.width=parseInt(arguments[f],10),f+=1,S(t.width))throw new TypeError("the argument for * width at position "+f+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(n&&"*"===t.precision){if(t.precision=parseInt(arguments[f],10),f+=1,S(t.precision))throw new TypeError("the argument for * precision at position "+f+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,n=!1)}switch(t.arg=arguments[f],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":n&&(t.padZeros=!1),t.arg=c(t);break;case"s":t.maxWidth=n?t.precision:-1,t.arg=String(t.arg);break;case"c":if(!S(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=S(a)?String(t.arg):_(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":n||(t.precision=6),t.arg=w(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=i(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=(p=t.arg,d=t.width,g=t.padRight,y=void 0,(y=d-p.length)<0?p:p=g?p+j(y):j(y)+p)),u+=t.arg||"",f+=1}return u}var F=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function T(r){var n={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(n.precision="1"),n}function k(r){var n,e,t,o;for(e=[],o=0,t=F.exec(r);t;)(n=r.slice(o,F.lastIndex-t[0].length)).length&&e.push(n),e.push(T(t)),o=F.lastIndex,t=F.exec(r);return(n=r.slice(o)).length&&e.push(n),e}function O(r){var n,e;if("string"!=typeof r)throw new TypeError(O("invalid argument. First argument must be a string. Value: `%s`.",r));for(n=[k(r)],e=1;e<arguments.length;e++)n.push(arguments[e]);return A.apply(null,n)}var V,I=Object.prototype,P=I.toString,$=I.__defineGetter__,R=I.__defineSetter__,C=I.__lookupGetter__,N=I.__lookupSetter__;V=function(){try{return n({},"x",{}),!0}catch(r){return!1}}()?e:function(r,n,e){var t,o,i,a;if("object"!=typeof r||null===r||"[object Array]"===P.call(r))throw new TypeError(O("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof e||null===e||"[object Array]"===P.call(e))throw new TypeError(O("invalid argument. Property descriptor must be an object. Value: `%s`.",e));if((o="value"in e)&&(C.call(r,n)||N.call(r,n)?(t=r.__proto__,r.__proto__=I,delete r[n],r[n]=e.value,r.__proto__=t):r[n]=e.value),i="get"in e,a="set"in e,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&$&&$.call(r,n,e.get),a&&R&&R.call(r,n,e.set),r};var B=V;function q(r,n,e){B(r,n,{configurable:!1,enumerable:!0,writable:!1,value:e})}function L(r,n){return r<0?(r+=n+1)<0?-1:r:r>n?-1:r}function M(r){var n=r.ndims;return"number"==typeof n?n:r.shape.length}function G(r){var n,e,t;for(e=r.length,n=[],t=0;t<e;t++)n.push(r[t]);return n}function Z(r,n){var e,t;if(0===(e=M(r)))throw new TypeError(O("invalid argument. First argument must be an ndarray having one or more dimensions. Number of dimensions: %d.",e));if(-1===(t=L(n,e-1)))throw new RangeError(O("invalid argument. Dimension index exceeds the number of dimensions. Number of dimensions: %d. Value: `%d`.",e,n));return function(r,n){var e=r.shape;return n?G(e):e}(r,!1)[t]}function W(r,n,e){B(r,n,{configurable:!1,enumerable:!1,writable:!1,value:e})}function D(r,n){return"column-major"===n?function(r){var n,e,t;for(n=[],e=1,t=0;t<r.length;t++)n.push(e),e*=r[t];return n}(r):function(r){var n,e,t,o;for(n=r.length,e=[],o=0;o<n;o++)e.push(0);for(t=1,o=n-1;o>=0;o--)e[o]=t,t*=r[o];return e}(r)}W(D,"assign",(function(r,n,e){return"column-major"===n?function(r,n){var e,t;for(e=1,t=0;t<r.length;t++)n[t]=e,e*=r[t];return n}(r,e):function(r,n){var e,t;for(e=1,t=r.length-1;t>=0;t--)n[t]=e,e*=r[t];return n}(r,e)}));var U="row-major";function X(r,n){var e,t;if(0===(e=M(r)))throw new TypeError(O("invalid argument. First argument must be an ndarray having one or more dimensions. Number of dimensions: %d.",e));if(-1===(t=L(n,e-1)))throw new RangeError(O("invalid argument. Dimension index exceeds the number of dimensions. Number of dimensions: %d. Value: `%d`.",e,n));return function(r,n){var e,t,o;return"object"!=typeof(o=r.strides)||null===o?0===(t=r.shape).length?[0]:("string"!=typeof(e=r.order)&&(e=U),D(t,e)):n?G(o):o}(r,!1)[t]}function z(r){var n,e,t;return"number"==typeof(t=r.offset)?t:0===(e=r.shape).length||"object"!=typeof(n=r.strides)||null===n?0:function(r,n){var e,t,o;for(t=r.length,e=0,o=0;o<t;o++)n[o]<0&&(e-=n[o]*(r[o]-1));return e}(e,n)}function J(r){return r.data}var Y=Object,H=/./;function K(r){return"boolean"==typeof r}var Q="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function rr(){return Q&&"symbol"==typeof Symbol.toStringTag}var nr=Object.prototype.toString;var er=Object.prototype.hasOwnProperty;var tr,or="function"==typeof Symbol?Symbol:void 0,ir="function"==typeof or?or.toStringTag:"";tr=rr()?function(r){var n,e,t,o,i;if(null==r)return nr.call(r);e=r[ir],i=ir,n=null!=(o=r)&&er.call(o,i);try{r[ir]=void 0}catch(n){return nr.call(r)}return t=nr.call(r),n?r[ir]=e:delete r[ir],t}:function(r){return nr.call(r)};var ar=tr,ur=Boolean,cr=Boolean.prototype.toString;var fr=rr();function sr(r){return"object"==typeof r&&(r instanceof ur||(fr?function(r){try{return cr.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===ar(r)))}function lr(r){return K(r)||sr(r)}W(lr,"isPrimitive",K),W(lr,"isObject",sr);var pr="object"==typeof self?self:null,dr="object"==typeof window?window:null,gr="object"==typeof global?global:null,yr="object"==typeof globalThis?globalThis:null;var vr=function(r){if(arguments.length){if(!K(r))throw new TypeError(O("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return new Function("return this;")()}if(yr)return yr;if(pr)return pr;if(dr)return dr;if(gr)return gr;throw new Error("unexpected error. Unable to resolve global object.")}(),hr=vr.document&&vr.document.childNodes,mr=Int8Array;function br(){return/^\s*function\s*([^(]*)/i}var wr,jr=/^\s*function\s*([^(]*)/i;W(br,"REGEXP",jr),wr=Array.isArray?Array.isArray:function(r){return"[object Array]"===ar(r)};var _r=wr;function Er(r){return null!==r&&"object"==typeof r}var Sr=function(r){if("function"!=typeof r)throw new TypeError(O("invalid argument. Must provide a function. Value: `%s`.",r));return function(n){var e,t;if(!_r(n))return!1;if(0===(e=n.length))return!1;for(t=0;t<e;t++)if(!1===r(n[t]))return!1;return!0}}(Er);function xr(r){var n,e,t,o;if(("Object"===(e=ar(r).slice(8,-1))||"Error"===e)&&r.constructor){if("string"==typeof(t=r.constructor).name)return t.name;if(n=jr.exec(t.toString()))return n[1]}return Er(o=r)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":e}W(Er,"isObjectLikeArray",Sr);var Ar="function"==typeof H||"object"==typeof mr||"function"==typeof hr?function(r){return xr(r).toLowerCase()}:function(r){var n;return null===r?"null":"object"===(n=typeof r)?xr(r).toLowerCase():n};var Fr,Tr,kr=Object.getPrototypeOf;Tr=Object.getPrototypeOf,Fr="function"===Ar(Tr)?kr:function(r){var n=function(r){return r.__proto__}(r);return n||null===n?n:"[object Function]"===ar(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var Or=Fr;function Vr(r){return null==r?null:(r=Y(r),Or(r))}function Ir(r){if("object"!=typeof r||null===r)return!1;if(r instanceof Error)return!0;for(;r;){if("[object Error]"===ar(r))return!0;r=Vr(r)}return!1}function Pr(r){try{return function(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(r)}catch(r){return Ir(r)?r:"object"==typeof r?new Error(JSON.stringify(r)):new Error(r.toString())}}function $r(r){return Math.abs(r)}function Rr(r,n,e,t,o,i){var a,u,c,f,s,l,p;if(r<=0)return o;for(a=t<0?(1-r)*t:0,u=i<0?(1-r)*i:0,c=n,l=0,p=0;p<r;p++)s=c+(f=e[a]),$r(c)>=$r(f)?l+=c-s+f:l+=f-s+c,c=s,o[u]=c+l,a+=t,u+=i;return o}W(Rr,"ndarray",(function(r,n,e,t,o,i,a,u){var c,f,s,l,p,d,g;if(r<=0)return i;for(c=o,f=u,s=n,d=0,g=0;g<r;g++)p=s+(l=e[c]),$r(s)>=$r(l)?d+=s-p+l:d+=l-p+s,s=p,i[f]=s+d,c+=t,f+=a;return i}));var Cr,Nr=Pr((0,r.join)(__dirname,"./native.js")),Br=Cr=Ir(Nr)?Rr:Nr;const{ndarray:qr}=Cr;function Lr(r,n,e,t,o,i){return Br(r,n,e,t,o,i)}W(Lr,"ndarray",(function(r,n,e,t,o,i,a,u){return qr(r,n,e,t,o,i,a,u)}));var Mr,Gr=Pr((0,r.join)(__dirname,"./native.js"));Mr=Ir(Gr)?Lr:Gr;const{ndarray:Zr}=Mr;function Wr(r,n,e){var t,o,i,a,u,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,u=0,c=0;c<r;c++)a=t+(i=n[o]),$r(t)>=$r(i)?u+=t-a+i:u+=i-a+t,t=a,o+=e;return t+u}W(Wr,"ndarray",(function(r,n,e,t){var o,i,a,u,c,f;if(r<=0)return 0;if(1===r||0===e)return n[t];for(i=t,o=0,c=0,f=0;f<r;f++)u=o+(a=n[i]),$r(o)>=$r(a)?c+=o-u+a:c+=a-u+o,o=u,i+=e;return o+c}));var Dr,Ur=Pr((0,r.join)(__dirname,"./native.js")),Xr=Dr=Ir(Ur)?Wr:Ur;const{ndarray:zr}=Dr;function Jr(r,n,e){return Xr(r,n,e)}W(Jr,"ndarray",(function(r,n,e,t){return zr(r,n,e,t)}));var Yr,Hr=Pr((0,r.join)(__dirname,"./native.js"));Yr=Ir(Hr)?Jr:Hr;const{ndarray:Kr}=Yr;function Qr(r,n,e,t,o,i){var a,u,c,f,s,l,p;if(r<=0)return o;for(a=t<0?(1-r)*t:0,u=i<0?(1-r)*i:0,c=n,l=0,p=0;p<r;p++)s=c+(f=e[a]),$r(c)>=$r(f)?l+=c-s+f:l+=f-s+c,c=s,o[u]=c+l,a+=t,u+=i;return o}function rn(r,n,e,t,o,i,a,u){var c,f,s,l,p,d,g;if(r<=0)return i;for(c=o,f=u,s=n,d=0,g=0;g<r;g++)p=s+(l=e[c]),$r(s)>=$r(l)?d+=s-p+l:d+=l-p+s,s=p,i[f]=s+d,c+=t,f+=a;return i}function nn(r,n,e,t,o,i,a,u){return rn(r,n,e,t,o,i,a,u)}function en(r,n,e){var t,o,i,a,u,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,u=0,c=0;c<r;c++)a=t+(i=n[o]),$r(t)>=$r(i)?u+=t-a+i:u+=i-a+t,t=a,o+=e;return t+u}function tn(r,n,e,t){var o,i,a,u,c,f;if(r<=0)return 0;if(1===r||0===e)return n[t];for(i=t,o=0,c=0,f=0;f<r;f++)u=o+(a=n[i]),$r(o)>=$r(a)?c+=o-u+a:c+=a-u+o,o=u,i+=e;return o+c}function on(r,n,e,t){return tn(r,n,e,t)}W(Qr,"ndarray",rn),W((function(r,n,e,t,o,i){return Qr(r,n,e,t,o,i)}),"ndarray",nn),W(en,"ndarray",tn),W((function(r,n,e){return en(r,n,e)}),"ndarray",on);var an="function"==typeof Math.fround?Math.fround:null,un="function"==typeof Float32Array;var cn=Number.POSITIVE_INFINITY,fn="function"==typeof Float32Array?Float32Array:null;var sn,ln="function"==typeof Float32Array?Float32Array:void 0;sn=function(){var r,n;if("function"!=typeof fn)return!1;try{r=function(r){return un&&r instanceof Float32Array||"[object Float32Array]"===ar(r)}(n=new fn([1,3.14,-3.14,5e40]))&&1===n[0]&&3.140000104904175===n[1]&&-3.140000104904175===n[2]&&n[3]===cn}catch(n){r=!1}return r}()?ln:function(){throw new Error("not implemented")};var pn=new sn(1);var dn="function"==typeof an?an:function(r){return pn[0]=r,pn[0]};function gn(r,n,e,t,o,i){var a,u,c,f,s,l,p;if(r<=0)return o;for(a=t<0?(1-r)*t:0,u=i<0?(1-r)*i:0,c=n,l=0,p=0;p<r;p++)f=e[a],s=dn(c+f),l=$r(c)>=$r(f)?dn(l+dn(dn(c-s)+f)):dn(l+dn(dn(f-s)+c)),c=s,o[u]=dn(c+l),a+=t,u+=i;return o}W(gn,"ndarray",(function(r,n,e,t,o,i,a,u){var c,f,s,l,p,d,g;if(r<=0)return i;for(c=o,f=u,s=n,d=0,g=0;g<r;g++)l=e[c],p=dn(s+l),d=$r(s)>=$r(l)?dn(d+dn(dn(s-p)+l)):dn(d+dn(dn(l-p)+s)),s=p,i[f]=dn(s+d),c+=t,f+=a;return i}));var yn,vn=Pr((0,r.join)(__dirname,"./native.js")),hn=yn=Ir(vn)?gn:vn;const{ndarray:mn}=yn;function bn(r,n,e,t,o,i){return hn(r,n,e,t,o,i)}W(bn,"ndarray",(function(r,n,e,t,o,i,a,u){return mn(r,n,e,t,o,i,a,u)}));var wn,jn=Pr((0,r.join)(__dirname,"./native.js"));wn=Ir(jn)?bn:jn;const{ndarray:_n}=wn;function En(r,n,e){var t,o,i,a,u,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,u=0,c=0;c<r;c++)i=n[o],a=dn(t+i),u=$r(t)>=$r(i)?dn(u+dn(dn(t-a)+i)):dn(u+dn(dn(i-a)+t)),t=a,o+=e;return dn(t+u)}W(En,"ndarray",(function(r,n,e,t){var o,i,a,u,c,f;if(r<=0)return 0;if(1===r||0===e)return n[t];for(i=t,o=0,c=0,f=0;f<r;f++)a=n[i],u=dn(o+a),c=$r(o)>=$r(a)?dn(c+dn(dn(o-u)+a)):dn(c+dn(dn(a-u)+o)),o=u,i+=e;return dn(o+c)}));var Sn,xn=Pr((0,r.join)(__dirname,"./native.js")),An=Sn=Ir(xn)?En:xn;const{ndarray:Fn}=Sn;function Tn(r,n,e){return An(r,n,e)}W(Tn,"ndarray",(function(r,n,e,t){return Fn(r,n,e,t)}));var kn,On=Pr((0,r.join)(__dirname,"./native.js"));kn=Ir(On)?Tn:On;const{ndarray:Vn}=kn;var In={};return q(In,"dcusum",(function(r){var n=r[0],e=r[1],t=r[2],o=J(t)[z(t)];return Zr(Z(n,0),o,J(n),X(n,0),z(n),J(e),X(e,0),z(e)),e})),q(In,"dsum",(function(r){var n=r[0];return Kr(Z(n,0),J(n),X(n,0),z(n))})),q(In,"gcusum",(function(r){var n=r[0],e=r[1],t=r[2],o=J(t)[z(t)];return nn(Z(n,0),o,J(n),X(n,0),z(n),J(e),X(e,0),z(e)),e})),q(In,"gsum",(function(r){var n=r[0];return on(Z(n,0),J(n),X(n,0),z(n))})),q(In,"scusum",(function(r){var n=r[0],e=r[1],t=r[2],o=J(t)[z(t)];return _n(Z(n,0),o,J(n),X(n,0),z(n),J(e),X(e,0),z(e)),e})),q(In,"ssum",(function(r){var n=r[0];return Vn(Z(n,0),J(n),X(n,0),z(n))})),In}));
//# sourceMappingURL=index.js.map
